<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Webmail Login</title>
  <link rel="stylesheet" href="../static/css/lofimail_login.css">
</head>
<body>

<div id="loading-overlay" class="hidden">
    <div class="spinner"></div>
</div>




    <a href="/your-target-page" class="logo-link">
  <img src="{{ url_for('static', filename='media/lofimaillogo1.png') }}" alt="LofiMail Logo" class="logo-image">
</a>


<video autoplay muted loop id="background-video" class="background">
    <source src="static/media/background_house_HD.mp4" type="video/mp4">
    Your browser does not support the video tag.
</video>
<noscript>
    <div style="background: url('static/media/background_fallback.jpg') no-repeat center center / cover; position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1;"></div>
</noscript>

  <div class="login-container">
    <form class="login-form" id="loginForm" action="/login" method="POST">
      <h1>LoFiMail</h1>
      <input type="email" name="email" placeholder="Email Address zefezf" required>
      <input type="password" name="password" placeholder="Password" required>
      <input type="text" name="imap" placeholder="IMAP Server" required>
    </form>
  </div>

  <div class="background-overlay"></div>
  <script>
    // Add click event listener
    document.querySelector('.login-container').addEventListener('click', function (event) {
      // Trigger form submission only if clicking on the form background (not input fields)
      if (event.target.classList.contains('login-form')) {
        document.querySelector('.background-overlay').classList.add('active');
        document.getElementById('background-video').classList.add('active');
        document.querySelector('.login-container').classList.add('active');

        // Show loading overlay
        document.getElementById('loading-overlay').classList.remove('hidden');
        document.getElementById('loginForm').submit();
      }
    });

    document.getElementById('loginForm').addEventListener('submit', function (event) {
    // Prevent the default form submission to see the effect
    event.preventDefault();

    // Optionally submit the form after a delay (to show the animation)
    setTimeout(() => {
        this.submit();
    }, 8000); // 2 seconds to match the transition duration
});


  </script>
</body>
</html>
